name: tanachat-mcp
services:
- name: mcp-server
  source_dir: mcp
  github:
    repo: thomashaus/TanaChat
    branch: main
  dockerfile_path: mcp/Dockerfile.simple
  instance_count: 1
  instance_size_slug: basic-xxs
  envs:
  - key: PYTHON_VERSION
    value: "3.12"
  - key: TANA_API_KEY
    type: SECRET
    value: ${tana-api-key}
  - key: S3_ACCESS_KEY
    type: SECRET
    value: ${s3-access-key}
  - key: S3_SECRET_KEY
    type: SECRET
    value: ${s3-secret-key}
  - key: S3_BUCKET
    value: tanachat
  - key: S3_REGION
    value: nyc3
  - key: S3_ENDPOINT
    value: https://nyc3.digitaloceanspaces.com
  http_port: 8000
  routes:
  - path: /
    domain: api.tanachat.ai
  - path: /
    domain: mcp.tanachat.ai